FROM openjdk:24-jdk-slim

ARG PROJECT_DEST_FOLDER=/usr/lib/words-app/backend

ARG BUILD_NAME=words_application-1.0.0.jar
ENV JAR_NAME=$BUILD_NAME

ARG JAR_PROGRAM_ARGUMENS
ENV ARGS=$JAR_PROGRAM_ARGUMENS

COPY /build/libs/$BUILD_NAME $PROJECT_DEST_FOLDER/$BUILD_NAME
COPY .env $PROJECT_DEST_FOLDER/.env

WORKDIR $PROJECT_DEST_FOLDER

RUN echo "fucking args ${JAR_PROGRAM_ARGUMENS}"

ENTRYPOINT java -jar $JAR_NAME $ARGS